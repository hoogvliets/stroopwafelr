---
title: "Readme"
author: "Jiddu Alexander & Raphael Hoogvliets"
date: "16-2-2021"
output:
  html_document:
    number_sections: true
    toc: true
---

# Config {.tabset}
## Libraries
## 


# Import {.tabset}
## Storage connectors
## Local connectors

# Tidy {.tabset}
## Bla

# Transform {.tabset}
## Bla



# Model {.tabset}
## Supervised learning
### 

## Unsupervised learning {.tabset}
### K-means

#### Scree and elbow plots to determine clusters

```{r}
scree_selection <- data_cluster[,-1]          

# scree parameters
scree_wss <- 0                 # initialize total within sum of squares error
scree_k   <- 5                 # number of clusters to cycle
scree_ns <- 10                 # number of random starts to cycle

# For 1 to 15 cluster centers
for (i in 1:scree_k) {
  km_out <- kmeans(scree_selection, centers = i, nstart = scree_ns)
  # Save total within sum of squares to wss variable
  scree_wss[i] <- km_out$tot.withinss
}

# Quickplot of total within sum of squares vs. number of clusters
plot(1:scree_k, scree_wss, type = "b", 
     xlab = "Number of Clusters", 
     ylab = "Within groups sum of squares")

# clean up environment
rm(i, scree_selection, scree_k, scree_ns, scree_wss, km_out)
```

#### Run clustering algorithm

```{r}
# set random seed for reproducibility
set.seed(1337)

# run k-means with 3 centers and 20 starts
k_output <- kmeans(data_cluster_elite[,-1], 3, nstart = 20)

```

#### Merge clusters to data

```{r}
data_cluster_elite$cluster <- k_output$cluster
```

#### Calculate cluster means

```{r}
# calculate cluster means as seperate columns and bind them together
clusters <-
  cbind(
data_cluster_elite[,-1] %>% 
  subset(cluster == 1) %>% 
  colMeans(),
data_cluster_elite[,-1] %>% 
  subset(cluster == 2) %>% 
  colMeans(),
data_cluster_elite[,-1] %>% 
  subset(cluster == 3) %>% 
  colMeans()
)

# set cluster number as columnnames
colnames(clusters) = clusters["cluster",]
```

#### Plot cluster heatmap

```{r}
# remove row names cluster and melt data
plotdata_h <-clusters[-which(rownames(clusters) %in% c("cluster")), ] %>% 
  melt()

# remove columns to standardised names
colnames(plotdata_h) <- c("Var1", "Var2", "value")

# plot heatmap
ggplot(plotdata_h, aes(Var2, Var1)) + geom_tile(aes(fill = value), colour = "white") + scale_fill_gradient(low = "white", high = "#01B8AA") + theme(legend.position="none", axis.line=element_blank(), axis.ticks=element_blank(), axis.title.x=element_blank(), axis.title.y=element_blank())
```

### PCA

## Times series {.tabset}
### Arima

# Visualise {.tabset}
## Plotting
## Maps
## Tables

# Report {.tabset}
## Rmarkdown
## Dashboards





```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
